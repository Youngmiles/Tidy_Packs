{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manage Swaps - CycleWorks</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="shortcut icon" href="{% static 'icons/recycle.png' %}" type="image/x-icon">
<style>
/* Reuse styles from admin_dashboard.html */
</style>
</head>
<body>
<div class="sidebar" id="sidebar">
<div class="sidebar-header">
<img src="{% static 'icons/recycle.png' %}" alt="CycleWorks Logo" />
<span>CycleWorks</span>
</div>
<div class="sidebar-menu">
<p>Admin Menu</p>
<a href="{% url 'admin_dashboard' %}"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
<a href="{% url 'manage_swaps' %}" class="active"><i class="fas fa-exchange-alt"></i> Manage Swaps</a>
<a href="{% url 'manage_collections' %}"><i class="fas fa-tshirt"></i> Manage Collections</a>
<a href="{% url 'manage_users' %}"><i class="fas fa-users"></i> Manage Community</a>
<a href="{% url 'sustainability_reports' %}"><i class="fas fa-leaf"></i> Sustainability Reports</a>
<a href="{% url 'admin_logout' %}"><i class="fas fa-sign-out-alt"></i> Logout</a>
<hr style="border-color: #93c5fd; opacity: 0.3; margin: 1rem 0;">
</div>
</div>
<button class="mobile-menu-btn" onclick="toggleSidebar()" aria-label="Toggle sidebar"><i class="fas fa-bars"></i></button>
<div class="main-content">
<div class="dashboard-header">
<h1>Manage Swaps</h1>
<p>View and update clothing swap requests.</p>
</div>
<div class="orders-table">
<table>
<thead>
<tr>
<th><i class="fas fa-hashtag"></i> Swap ID</th>
<th><i class="fas fa-user"></i> Member</th>
<th><i class="fas fa-tshirt"></i> Item</th>
<th><i class="fas fa-calendar-alt"></i> Date</th>
<th><i class="fas fa-info-circle"></i> Status</th>
</tr>
</thead>
<tbody>
{% for swap in swaps %}
<tr>
<td>{{ swap.id }}</td>
<td>{{ swap.user.first_name|default:swap.user.username }}</td>
<td>{{ swap.item_name|default:"No Item" }}</td>
<td>{{ swap.created_at|date:"M d, Y" }}</td>
<td><span class="status {{ swap.status }}">{{ swap.get_status_display }}</span></td>
</tr>
{% empty %}
<tr>
<td colspan="5" class="no-orders">No swaps available.</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
<script>
function toggleSidebar() {
const sidebar = document.getElementById('sidebar');
sidebar.classList.toggle('active');
}
</script>
</body>
</html>